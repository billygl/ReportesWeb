<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.dispatch.dao.DescargasDAO">
	<sql id="sqlBD">TRACTORES.</sql>
	
	<resultMap id="result" type="DescargasBean">
        <result property="id" column="ID"/>
        <result property="nombre" column="NOMBRE"/>
        <result property="comentario" column="COMENTARIO"/>
        <result property="estado" column="ESTADO"/>                   
     </resultMap>
	
	<select id="getDescargas"  resultType="descargasBean">  
		SELECT TOP 10 FECHA, 
			   TURNO,
			   COMP_DESTINO,
			   TONELAJE,
			   CATEGORIA
		FROM <include refid="sqlBD"/>ETL.DESCARGAS
		WHERE FECHA BETWEEN #{fromDate} AND #{toDate}
		AND TURNO IN  
		<foreach item="item" index="index" collection="shifts" open="(" separator="," close=")">
		#{item}
		</foreach> 
		
	</select>

</mapper>